{"ast":null,"code":"import React from\"react\";import axios from\"axios\";import{useState,useEffect}from\"react\";import defaultProfileImage from\"../profile/profile.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Detailusermodal=_ref=>{let{showModal,handleClose,selectDetailUser}=_ref;const[profileImage,setProfileImage]=useState(null);const fetchUserProfile=async userid=>{try{const response=await axios.get(\"http://localhost:5000/api/getuserprofileadmin/\".concat(userid),// Update the URL based on your backend route\n{withCredentials:true,responseType:\"arraybuffer\"}// Set the responseType to 'arraybuffer' to receive the data as an ArrayBuffer\n);if(response.status===200){// Access the binary data from the response\nconst imageData=response.data;// Convert the ArrayBuffer to a Blob\nconst blob=new Blob([imageData],{type:\"image/jpeg\"});// Replace 'image/jpeg' with the actual MIME type of your images\n// Create a Blob URL from the Blob\nconst blobUrl=URL.createObjectURL(blob);setProfileImage(blobUrl);console.log(\"Fetched user profile image data:\",blobUrl);// Update your UI or perform other actions with the fetched data\n}}catch(error){console.error(\"Error fetching user profile data:\",error);}};useEffect(()=>{if(showModal&&selectDetailUser){// Fetch user profile when the modal is shown and there is a selected user\nfetchUserProfile(selectDetailUser.UserID);}},[showModal,selectDetailUser]);const onClose=async()=>{setProfileImage(\"\");handleClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade \".concat(showModal?\"show\":\"\"),style:{display:showModal?\"block\":\"none\"},\"data-bs-theme\":\"dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-info fa-fw\"}),\"User Details :\",\" \",selectDetailUser.Username]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"aria-label\":\"Close\",onClick:onClose})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profileImageInput\",className:\"profile-image-label\",children:/*#__PURE__*/_jsx(\"img\",{src:profileImage||defaultProfileImage,alt:\"Profile\",className:\"img-fluid rounded-circle profile-image\",style:{width:\"200px\",height:\"200px\",border:\"2px solid #000\"}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User ID:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.UserID})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.Username})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.FirstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.LastName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.Email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Role:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.RoleType})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.CompanyName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Parent ID:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.ParentUserID})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Status: \"}),/*#__PURE__*/_jsx(\"p\",{children:selectDetailUser.IsActive===1?\"Active\":\"Inactive\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,children:\"Close\"})})]})})});};export default Detailusermodal;","map":{"version":3,"names":["React","axios","useState","useEffect","defaultProfileImage","jsx","_jsx","jsxs","_jsxs","Detailusermodal","_ref","showModal","handleClose","selectDetailUser","profileImage","setProfileImage","fetchUserProfile","userid","response","get","concat","withCredentials","responseType","status","imageData","data","blob","Blob","type","blobUrl","URL","createObjectURL","console","log","error","UserID","onClose","className","style","display","children","role","Username","onClick","htmlFor","src","alt","width","height","border","FirstName","LastName","Email","RoleType","CompanyName","ParentUserID","IsActive"],"sources":["C:/Users/Administrator/Desktop/react-express/client/src/usermgmt/Detailusermodal.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport defaultProfileImage from \"../profile/profile.jpg\";\r\n\r\nconst Detailusermodal = ({ showModal, handleClose, selectDetailUser }) => {\r\n  const [profileImage, setProfileImage] = useState(null);\r\n\r\n  const fetchUserProfile = async (userid) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:5000/api/getuserprofileadmin/${userid}`, // Update the URL based on your backend route\r\n        { withCredentials: true, responseType: \"arraybuffer\" } // Set the responseType to 'arraybuffer' to receive the data as an ArrayBuffer\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        // Access the binary data from the response\r\n        const imageData = response.data;\r\n\r\n        // Convert the ArrayBuffer to a Blob\r\n        const blob = new Blob([imageData], { type: \"image/jpeg\" }); // Replace 'image/jpeg' with the actual MIME type of your images\r\n\r\n        // Create a Blob URL from the Blob\r\n        const blobUrl = URL.createObjectURL(blob);\r\n\r\n        setProfileImage(blobUrl);\r\n        console.log(\"Fetched user profile image data:\", blobUrl);\r\n\r\n        // Update your UI or perform other actions with the fetched data\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching user profile data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showModal && selectDetailUser) {\r\n      // Fetch user profile when the modal is shown and there is a selected user\r\n      fetchUserProfile(selectDetailUser.UserID);\r\n    }\r\n  }, [showModal, selectDetailUser]);\r\n\r\n  const onClose = async () => {\r\n    setProfileImage(\"\");\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`modal fade ${showModal ? \"show\" : \"\"}`}\r\n      style={{ display: showModal ? \"block\" : \"none\" }}\r\n      data-bs-theme=\"dark\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">\r\n              <i className=\"fa fa-info fa-fw\"></i>User Details :{\" \"}\r\n              {selectDetailUser.Username}\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              aria-label=\"Close\"\r\n              onClick={onClose}\r\n            ></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <div className=\"position-relative\">\r\n              <label\r\n                htmlFor=\"profileImageInput\"\r\n                className=\"profile-image-label\"\r\n              >\r\n                <img\r\n                  src={profileImage || defaultProfileImage}\r\n                  alt=\"Profile\"\r\n                  className=\"img-fluid rounded-circle profile-image\"\r\n                  style={{\r\n                    width: \"200px\",\r\n                    height: \"200px\",\r\n                    border: \"2px solid #000\",\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-6\">\r\n                <label>User ID:</label>\r\n                <p>{selectDetailUser.UserID}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label>Username:</label>\r\n                <p>{selectDetailUser.Username}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-6\">\r\n                <label>First Name:</label>\r\n                <p>{selectDetailUser.FirstName}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label>Last Name:</label>\r\n                <p>{selectDetailUser.LastName}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-6\">\r\n                <label>Email:</label>\r\n                <p>{selectDetailUser.Email}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label>User Role:</label>\r\n                <p>{selectDetailUser.RoleType}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mb-3\">\r\n              <div className=\"col-md-6\">\r\n                <label>Company:</label>\r\n                <p>{selectDetailUser.CompanyName}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label>User Parent ID:</label>\r\n                <p>{selectDetailUser.ParentUserID}</p>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label>User Status: </label>\r\n                <p>{selectDetailUser.IsActive === 1 ? \"Active\" : \"Inactive\"}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              onClick={onClose}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Detailusermodal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}