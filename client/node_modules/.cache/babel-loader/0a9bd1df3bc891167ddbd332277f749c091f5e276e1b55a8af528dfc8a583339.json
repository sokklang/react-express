{"ast":null,"code":"import React from\"react\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Updatepassword=_ref=>{let{showModal,handleClose}=_ref;const[password,setPassword]=useState(\"\");const[confirmpassword,setConfirmPassword]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const handleUpdatePassword=async e=>{e.preventDefault();if(password!==confirmpassword){setErrorMessage(\"Password doesn't Match\");return;}try{const response=await axios.put(\"http://localhost:5000/api/updatepassword\",{password},{withCredentials:true});if(response.status===200){setSuccessMessage(response.data.message);setErrorMessage(\"\");}}catch(error){setSuccessMessage(\"\");setErrorMessage(error.response.data.message);}};const onClose=async()=>{setErrorMessage(\"\");setSuccessMessage(\"\");setPassword(\"\");setConfirmPassword(\"\");handleClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade \".concat(showModal?\"show\":\"\"),style:{display:showModal?\"block\":\"none\"},\"data-bs-theme\":\"dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title text-white\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-key fa-fw me-2\"}),\"Update Password\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:onClose})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body text-white text-start\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdatePassword,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formNewPassword\",className:\"form-label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"on\",className:\"form-control\",placeholder:\"Enter New Password\",value:password,onChange:e=>setPassword(e.target.value.replace(/\\s/g,\"\"))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formConfirmPassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"on\",className:\"form-control\",placeholder:\"Enter Confirm Password\",value:confirmpassword,onChange:e=>setConfirmPassword(e.target.value.replace(/\\s/g,\"\"))})]}),errorMessage?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",role:\"alert\",children:errorMessage}):successMessage?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-3\",role:\"alert\",children:successMessage}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\"//onClick={handleEdit}\n,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,children:\"Close\"})]})]})})]})})});};export default Updatepassword;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Updatepassword","_ref","showModal","handleClose","password","setPassword","confirmpassword","setConfirmPassword","successMessage","setSuccessMessage","errorMessage","setErrorMessage","handleUpdatePassword","e","preventDefault","response","put","withCredentials","status","data","message","error","onClose","className","concat","style","display","children","type","onClick","onSubmit","htmlFor","autoComplete","placeholder","value","onChange","target","replace","role"],"sources":["C:/Users/Administrator/Desktop/react-express/client/src/profile/Updatepassword.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Updatepassword = ({ showModal, handleClose }) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleUpdatePassword = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmpassword) {\r\n      setErrorMessage(\"Password doesn't Match\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.put(\r\n        \"http://localhost:5000/api/updatepassword\",\r\n        { password },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        setSuccessMessage(response.data.message);\r\n        setErrorMessage(\"\");\r\n      }\r\n    } catch (error) {\r\n      setSuccessMessage(\"\");\r\n      setErrorMessage(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  const onClose = async () => {\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    setPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`modal fade ${showModal ? \"show\" : \"\"}`}\r\n      style={{ display: showModal ? \"block\" : \"none\" }}\r\n      data-bs-theme=\"dark\"\r\n    >\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title text-white\">\r\n              <i className=\"fa fa-key fa-fw me-2\"></i>Update Password\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              onClick={onClose}\r\n            ></button>\r\n          </div>\r\n          <div className=\"modal-body text-white text-start\">\r\n            <form onSubmit={handleUpdatePassword}>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formNewPassword\" className=\"form-label\">\r\n                  New Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  autoComplete=\"on\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter New Password\"\r\n                  value={password}\r\n                  onChange={(e) =>\r\n                    setPassword(e.target.value.replace(/\\s/g, \"\"))\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formConfirmPassword\" className=\"form-label\">\r\n                  Confirm Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  autoComplete=\"on\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter Confirm Password\"\r\n                  value={confirmpassword}\r\n                  onChange={(e) =>\r\n                    setConfirmPassword(e.target.value.replace(/\\s/g, \"\"))\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              {/* Add more fields for editing, if necessary */}\r\n              {errorMessage ? (\r\n                <div className=\"alert alert-danger mt-3\" role=\"alert\">\r\n                  {errorMessage}\r\n                </div>\r\n              ) : successMessage ? (\r\n                <div className=\"alert alert-success mt-3\" role=\"alert\">\r\n                  {successMessage}\r\n                </div>\r\n              ) : null}\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  //onClick={handleEdit}\r\n                >\r\n                  Submit\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={onClose}\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Updatepassword;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAgC,IAA/B,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAAF,IAAA,CAChD,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACc,cAAc,CAAEC,iBAAiB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACgB,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAAkB,oBAAoB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACxCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIV,QAAQ,GAAKE,eAAe,CAAE,CAChCK,eAAe,CAAC,wBAAwB,CAAC,CACzC,OACF,CACA,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,CAC9B,0CAA0C,CAC1C,CAAEZ,QAAS,CAAC,CACZ,CAAEa,eAAe,CAAE,IAAK,CAC1B,CAAC,CAED,GAAIF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CAC3BT,iBAAiB,CAACM,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CACxCT,eAAe,CAAC,EAAE,CAAC,CACrB,CACF,CAAE,MAAOU,KAAK,CAAE,CACdZ,iBAAiB,CAAC,EAAE,CAAC,CACrBE,eAAe,CAACU,KAAK,CAACN,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAE,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1BX,eAAe,CAAC,EAAE,CAAC,CACnBF,iBAAiB,CAAC,EAAE,CAAC,CACrBJ,WAAW,CAAC,EAAE,CAAC,CACfE,kBAAkB,CAAC,EAAE,CAAC,CACtBJ,WAAW,CAAC,CAAC,CACf,CAAC,CAED,mBACEN,IAAA,QACE0B,SAAS,eAAAC,MAAA,CAAgBtB,SAAS,CAAG,MAAM,CAAG,EAAE,CAAG,CACnDuB,KAAK,CAAE,CAAEC,OAAO,CAAExB,SAAS,CAAG,OAAO,CAAG,MAAO,CAAE,CACjD,gBAAc,MAAM,CAAAyB,QAAA,cAEpB9B,IAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAI,QAAA,cAC3B5B,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5B5B,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3B5B,KAAA,OAAIwB,SAAS,CAAC,wBAAwB,CAAAI,QAAA,eACpC9B,IAAA,MAAG0B,SAAS,CAAC,sBAAsB,CAAI,CAAC,kBAC1C,EAAI,CAAC,cACL1B,IAAA,WACE+B,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,WAAW,CACrBM,OAAO,CAAEP,OAAQ,CACV,CAAC,EACP,CAAC,cACNzB,IAAA,QAAK0B,SAAS,CAAC,kCAAkC,CAAAI,QAAA,cAC/C5B,KAAA,SAAM+B,QAAQ,CAAElB,oBAAqB,CAAAe,QAAA,eACnC5B,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAI,QAAA,eACnB9B,IAAA,UAAOkC,OAAO,CAAC,iBAAiB,CAACR,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAC,cAExD,CAAO,CAAC,cACR9B,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfI,YAAY,CAAC,IAAI,CACjBT,SAAS,CAAC,cAAc,CACxBU,WAAW,CAAC,oBAAoB,CAChCC,KAAK,CAAE9B,QAAS,CAChB+B,QAAQ,CAAGtB,CAAC,EACVR,WAAW,CAACQ,CAAC,CAACuB,MAAM,CAACF,KAAK,CAACG,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC9C,CACF,CAAC,EACC,CAAC,cACNtC,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAI,QAAA,eACnB9B,IAAA,UAAOkC,OAAO,CAAC,qBAAqB,CAACR,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAC,kBAE5D,CAAO,CAAC,cACR9B,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfI,YAAY,CAAC,IAAI,CACjBT,SAAS,CAAC,cAAc,CACxBU,WAAW,CAAC,wBAAwB,CACpCC,KAAK,CAAE5B,eAAgB,CACvB6B,QAAQ,CAAGtB,CAAC,EACVN,kBAAkB,CAACM,CAAC,CAACuB,MAAM,CAACF,KAAK,CAACG,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACrD,CACF,CAAC,EACC,CAAC,CAGL3B,YAAY,cACXb,IAAA,QAAK0B,SAAS,CAAC,yBAAyB,CAACe,IAAI,CAAC,OAAO,CAAAX,QAAA,CAClDjB,YAAY,CACV,CAAC,CACJF,cAAc,cAChBX,IAAA,QAAK0B,SAAS,CAAC,0BAA0B,CAACe,IAAI,CAAC,OAAO,CAAAX,QAAA,CACnDnB,cAAc,CACZ,CAAC,CACJ,IAAI,cACRT,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3B9B,IAAA,WACE+B,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,iBACV;AAAA,CAAAI,QAAA,CACD,QAED,CAAQ,CAAC,cACT9B,IAAA,WACE+B,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,mBAAmB,CAC7BM,OAAO,CAAEP,OAAQ,CAAAK,QAAA,CAClB,OAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}