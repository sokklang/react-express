{"ast":null,"code":"import React from\"react\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Resetpasswordmodal=_ref=>{let{showModal,handleClose,selectResetPasswordUser}=_ref;const[password,setPassword]=useState(\"\");const[confirmpassword,setConfirmPassword]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const handleResetPassword=async e=>{e.preventDefault();if(password!==confirmpassword){setErrorMessage(\"Password doesn't Match\");return;}try{const response=await axios.put(\"http://localhost:5000/api/resetpassword/\".concat(selectResetPasswordUser),{password},{withCredentials:true});if(response.status===200){setSuccessMessage(response.data.message);setErrorMessage(\"\");}}catch(error){setSuccessMessage(\"\");setErrorMessage(error.response.data.error);}};const onClose=async()=>{setErrorMessage(\"\");setSuccessMessage(\"\");setPassword(\"\");setConfirmPassword(\"\");handleClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade \".concat(showModal?\"show\":\"\"),style:{display:showModal?\"block\":\"none\"},\"data-bs-theme\":\"dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title text-white\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-key fa-fw me-2\"}),\"Reset Password\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:onClose})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body text-white text-start\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleResetPassword,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formNewPassword\",className:\"form-label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"on\",className:\"form-control\",placeholder:\"Enter New Password\",value:password,onChange:e=>setPassword(e.target.value.replace(/\\s/g,\"\"))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formConfirmPassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"on\",className:\"form-control\",placeholder:\"Enter Confirm Password\",value:confirmpassword,onChange:e=>setConfirmPassword(e.target.value.replace(/\\s/g,\"\"))})]}),errorMessage?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",role:\"alert\",children:errorMessage}):successMessage?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-3\",role:\"alert\",children:successMessage}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\"//onClick={handleEdit}\n,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,children:\"Close\"})]})]})})]})})});};export default Resetpasswordmodal;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Resetpasswordmodal","_ref","showModal","handleClose","selectResetPasswordUser","password","setPassword","confirmpassword","setConfirmPassword","successMessage","setSuccessMessage","errorMessage","setErrorMessage","handleResetPassword","e","preventDefault","response","put","concat","withCredentials","status","data","message","error","onClose","className","style","display","children","type","onClick","onSubmit","htmlFor","autoComplete","placeholder","value","onChange","target","replace","role"],"sources":["C:/Users/Administrator/Desktop/react-express/client/src/usermgmt/Resetpasswordmodal.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Resetpasswordmodal = ({\r\n  showModal,\r\n  handleClose,\r\n  selectResetPasswordUser,\r\n}) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleResetPassword = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== confirmpassword) {\r\n      setErrorMessage(\"Password doesn't Match\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.put(\r\n        `http://localhost:5000/api/resetpassword/${selectResetPasswordUser}`,\r\n        { password },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        setSuccessMessage(response.data.message);\r\n        setErrorMessage(\"\");\r\n      }\r\n    } catch (error) {\r\n      setSuccessMessage(\"\");\r\n      setErrorMessage(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  const onClose = async () => {\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n    setPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`modal fade ${showModal ? \"show\" : \"\"}`}\r\n      style={{ display: showModal ? \"block\" : \"none\" }}\r\n      data-bs-theme=\"dark\"\r\n    >\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title text-white\">\r\n              <i className=\"fa fa-key fa-fw me-2\"></i>Reset Password\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              onClick={onClose}\r\n            ></button>\r\n          </div>\r\n          <div className=\"modal-body text-white text-start\">\r\n            <form onSubmit={handleResetPassword}>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formNewPassword\" className=\"form-label\">\r\n                  New Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  autoComplete=\"on\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter New Password\"\r\n                  value={password}\r\n                  onChange={(e) =>\r\n                    setPassword(e.target.value.replace(/\\s/g, \"\"))\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"formConfirmPassword\" className=\"form-label\">\r\n                  Confirm Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  autoComplete=\"on\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter Confirm Password\"\r\n                  value={confirmpassword}\r\n                  onChange={(e) =>\r\n                    setConfirmPassword(e.target.value.replace(/\\s/g, \"\"))\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              {/* Add more fields for editing, if necessary */}\r\n              {errorMessage ? (\r\n                <div className=\"alert alert-danger mt-3\" role=\"alert\">\r\n                  {errorMessage}\r\n                </div>\r\n              ) : successMessage ? (\r\n                <div className=\"alert alert-success mt-3\" role=\"alert\">\r\n                  {successMessage}\r\n                </div>\r\n              ) : null}\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  //onClick={handleEdit}\r\n                >\r\n                  Submit\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={onClose}\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Resetpasswordmodal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}