{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import{AuthContext}from\"../context/AuthContext\";import{Navigate}from\"react-router-dom\";import axios from\"axios\";import Assignuser from\"./Assignuser\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"bootstrap/dist/js/bootstrap.min.js\";import\"font-awesome/css/font-awesome.min.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Assigntask=()=>{const{loggedIn}=useContext(AuthContext);const[tasks,setTasks]=useState([]);const[selectAssignTask,setSelectAssignTask]=useState(\"\");const[showAssignUserModal,setShowAssignUserModal]=useState(false);//const [errorMessage, setErrorMessage] = useState(\"\");\n//const [successMessage, setSuccessMessage] = useState(\"\");\nconst fetchApproveTasks=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/getapprovetask\",{withCredentials:true});if(response.status===200){console.log(\"Tasks Fetched Successfully\",response.data.approvedTasks);setTasks(response.data.approvedTasks);}}catch(error){console.error(\"Error fetching tasks:\",error.response.data.error);}};useEffect(()=>{if(loggedIn){fetchApproveTasks();}},[loggedIn]);if(!loggedIn){// If the user is not logged in, redirect to the login page\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5 p-3 border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Assigning Task\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border p-3\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-striped table-hover table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Deadline\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tasks.map(task=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:task.TaskID}),/*#__PURE__*/_jsx(\"td\",{children:task.TaskTitle}),/*#__PURE__*/_jsx(\"td\",{children:task.TaskDeadline}),/*#__PURE__*/_jsx(\"td\",{children:task.PriorityID===1?\"Low\":task.PriorityID===2?\"Medium\":\"High\"}),/*#__PURE__*/_jsx(\"td\",{children:task.TaskTypeID===1?\"Small Task\":task.TaskTypeID===2?\"Medium Task\":task.TaskTypeID===3?\"Large Task\":\"Unknown\"}),/*#__PURE__*/_jsx(\"td\",{children:task.Status}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",\"data-bs-theme\":\"dark\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary dropdown-toggle\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-ellipsis-v fa-fw \",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",type:\"button\",onClick:()=>{setShowAssignUserModal(true);setSelectAssignTask(task.TaskID);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user-plus me-2\",\"aria-hidden\":\"true\"}),\"Assign\"]})})]})})]},task.TaskID))})]}),/*#__PURE__*/_jsx(Assignuser,{showModal:showAssignUserModal,selectAssignTask:selectAssignTask,handleClose:()=>{setShowAssignUserModal(false);}})]})]});};export default Assigntask;","map":{"version":3,"names":["React","useContext","useState","useEffect","AuthContext","Navigate","axios","Assignuser","jsx","_jsx","jsxs","_jsxs","Assigntask","loggedIn","tasks","setTasks","selectAssignTask","setSelectAssignTask","showAssignUserModal","setShowAssignUserModal","fetchApproveTasks","response","get","withCredentials","status","console","log","data","approvedTasks","error","to","className","children","map","task","TaskID","TaskTitle","TaskDeadline","PriorityID","TaskTypeID","Status","type","onClick","showModal","handleClose"],"sources":["C:/Users/Administrator/Desktop/react-express/client/src/assigntask/Assigntask.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Assignuser from \"./Assignuser\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nconst Assigntask = () => {\r\n  const { loggedIn } = useContext(AuthContext);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [selectAssignTask, setSelectAssignTask] = useState(\"\");\r\n  const [showAssignUserModal, setShowAssignUserModal] = useState(false);\r\n  //const [errorMessage, setErrorMessage] = useState(\"\");\r\n  //const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const fetchApproveTasks = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"http://localhost:5000/api/getapprovetask\",\r\n        {\r\n          withCredentials: true,\r\n        }\r\n      );\r\n      if (response.status === 200) {\r\n        console.log(\"Tasks Fetched Successfully\", response.data.approvedTasks);\r\n        setTasks(response.data.approvedTasks);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching tasks:\", error.response.data.error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      fetchApproveTasks();\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  if (!loggedIn) {\r\n    // If the user is not logged in, redirect to the login page\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid mt-5 p-3 border\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <div>\r\n          <center>\r\n            <h1>Assigning Task</h1>\r\n          </center>\r\n        </div>\r\n        <div className=\"d-flex align-items-center\"></div>\r\n      </div>\r\n\r\n      <div className=\"border p-3\">\r\n        <table className=\"table table-dark table-striped table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Title</th>\r\n              <th>Deadline</th>\r\n              <th>Priority</th>\r\n              <th>Type</th>\r\n              <th>Status</th>\r\n\r\n              <th className=\"text-center\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tasks.map((task) => (\r\n              <tr key={task.TaskID}>\r\n                <td>{task.TaskID}</td>\r\n                <td>{task.TaskTitle}</td>\r\n                <td>{task.TaskDeadline}</td>\r\n                <td>\r\n                  {task.PriorityID === 1\r\n                    ? \"Low\"\r\n                    : task.PriorityID === 2\r\n                    ? \"Medium\"\r\n                    : \"High\"}\r\n                </td>\r\n                <td>\r\n                  {task.TaskTypeID === 1\r\n                    ? \"Small Task\"\r\n                    : task.TaskTypeID === 2\r\n                    ? \"Medium Task\"\r\n                    : task.TaskTypeID === 3\r\n                    ? \"Large Task\"\r\n                    : \"Unknown\"}\r\n                </td>\r\n                <td>{task.Status}</td>\r\n\r\n                <td className=\"text-center\">\r\n                  {/* Add action buttons as needed */}\r\n                  <div className=\"dropdown\" data-bs-theme=\"dark\">\r\n                    <button\r\n                      className=\"btn btn-secondary dropdown-toggle\"\r\n                      type=\"button\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      aria-haspopup=\"true\"\r\n                      aria-expanded=\"false\"\r\n                    >\r\n                      <i\r\n                        className=\"fa fa-ellipsis-v fa-fw \"\r\n                        aria-hidden=\"true\"\r\n                      ></i>\r\n                    </button>\r\n                    <div\r\n                      className=\"dropdown-menu\"\r\n                      aria-labelledby=\"dropdownMenu2\"\r\n                    >\r\n                      <button\r\n                        className=\"dropdown-item\"\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setShowAssignUserModal(true);\r\n                          setSelectAssignTask(task.TaskID);\r\n                        }}\r\n                      >\r\n                        <i\r\n                          className=\"fa fa-user-plus me-2\"\r\n                          aria-hidden=\"true\"\r\n                        ></i>\r\n                        Assign\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <Assignuser\r\n          showModal={showAssignUserModal}\r\n          selectAssignTask={selectAssignTask}\r\n          handleClose={() => {\r\n            setShowAssignUserModal(false);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Assigntask;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CAErC,MAAO,sCAAsC,CAC7C,MAAO,oCAAoC,CAC3C,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,QAAS,CAAC,CAAGZ,UAAU,CAACG,WAAW,CAAC,CAC5C,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACgB,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CACrE;AACA;AAEA,KAAM,CAAAkB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,CAC9B,0CAA0C,CAC1C,CACEC,eAAe,CAAE,IACnB,CACF,CAAC,CACD,GAAIF,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CAC3BC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAEL,QAAQ,CAACM,IAAI,CAACC,aAAa,CAAC,CACtEb,QAAQ,CAACM,QAAQ,CAACM,IAAI,CAACC,aAAa,CAAC,CACvC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAACR,QAAQ,CAACM,IAAI,CAACE,KAAK,CAAC,CACnE,CACF,CAAC,CAED1B,SAAS,CAAC,IAAM,CACd,GAAIU,QAAQ,CAAE,CACZO,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAE,CAACP,QAAQ,CAAC,CAAC,CAEd,GAAI,CAACA,QAAQ,CAAE,CACb;AACA,mBAAOJ,IAAA,CAACJ,QAAQ,EAACyB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CAEA,mBACEnB,KAAA,QAAKoB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CrB,KAAA,QAAKoB,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrEvB,IAAA,QAAAuB,QAAA,cACEvB,IAAA,WAAAuB,QAAA,cACEvB,IAAA,OAAAuB,QAAA,CAAI,gBAAc,CAAI,CAAC,CACjB,CAAC,CACN,CAAC,cACNvB,IAAA,QAAKsB,SAAS,CAAC,2BAA2B,CAAM,CAAC,EAC9C,CAAC,cAENpB,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrB,KAAA,UAAOoB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,eAC1EvB,IAAA,UAAAuB,QAAA,cACErB,KAAA,OAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXvB,IAAA,OAAAuB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvB,IAAA,OAAAuB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBvB,IAAA,OAAAuB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBvB,IAAA,OAAAuB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbvB,IAAA,OAAAuB,QAAA,CAAI,QAAM,CAAI,CAAC,cAEfvB,IAAA,OAAIsB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,EACrC,CAAC,CACA,CAAC,cACRvB,IAAA,UAAAuB,QAAA,CACGlB,KAAK,CAACmB,GAAG,CAAEC,IAAI,eACdvB,KAAA,OAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAKE,IAAI,CAACC,MAAM,CAAK,CAAC,cACtB1B,IAAA,OAAAuB,QAAA,CAAKE,IAAI,CAACE,SAAS,CAAK,CAAC,cACzB3B,IAAA,OAAAuB,QAAA,CAAKE,IAAI,CAACG,YAAY,CAAK,CAAC,cAC5B5B,IAAA,OAAAuB,QAAA,CACGE,IAAI,CAACI,UAAU,GAAK,CAAC,CAClB,KAAK,CACLJ,IAAI,CAACI,UAAU,GAAK,CAAC,CACrB,QAAQ,CACR,MAAM,CACR,CAAC,cACL7B,IAAA,OAAAuB,QAAA,CACGE,IAAI,CAACK,UAAU,GAAK,CAAC,CAClB,YAAY,CACZL,IAAI,CAACK,UAAU,GAAK,CAAC,CACrB,aAAa,CACbL,IAAI,CAACK,UAAU,GAAK,CAAC,CACrB,YAAY,CACZ,SAAS,CACX,CAAC,cACL9B,IAAA,OAAAuB,QAAA,CAAKE,IAAI,CAACM,MAAM,CAAK,CAAC,cAEtB/B,IAAA,OAAIsB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAEzBrB,KAAA,QAAKoB,SAAS,CAAC,UAAU,CAAC,gBAAc,MAAM,CAAAC,QAAA,eAC5CvB,IAAA,WACEsB,SAAS,CAAC,mCAAmC,CAC7CU,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,gBAAc,MAAM,CACpB,gBAAc,OAAO,CAAAT,QAAA,cAErBvB,IAAA,MACEsB,SAAS,CAAC,yBAAyB,CACnC,cAAY,MAAM,CAChB,CAAC,CACC,CAAC,cACTtB,IAAA,QACEsB,SAAS,CAAC,eAAe,CACzB,kBAAgB,eAAe,CAAAC,QAAA,cAE/BrB,KAAA,WACEoB,SAAS,CAAC,eAAe,CACzBU,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEA,CAAA,GAAM,CACbvB,sBAAsB,CAAC,IAAI,CAAC,CAC5BF,mBAAmB,CAACiB,IAAI,CAACC,MAAM,CAAC,CAClC,CAAE,CAAAH,QAAA,eAEFvB,IAAA,MACEsB,SAAS,CAAC,sBAAsB,CAChC,cAAY,MAAM,CAChB,CAAC,SAEP,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACJ,CAAC,GAzDEG,IAAI,CAACC,MA0DV,CACL,CAAC,CACG,CAAC,EACH,CAAC,cACR1B,IAAA,CAACF,UAAU,EACToC,SAAS,CAAEzB,mBAAoB,CAC/BF,gBAAgB,CAAEA,gBAAiB,CACnC4B,WAAW,CAAEA,CAAA,GAAM,CACjBzB,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CAAE,CACH,CAAC,EACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}