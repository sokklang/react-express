{"ast":null,"code":"import React from\"react\";import{useState,useEffect}from\"react\";import defaultCompanyLogo from\"./defaultlogo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Updatecompanylogo=_ref=>{let{showModal,handleClose,updateCompanyLogo,imageLogo}=_ref;const[companyLogoPreview,setCompanyLogoPreview]=useState();const[selectedFile,setSelectedFile]=useState();useEffect(()=>{setCompanyLogoPreview(imageLogo);},[imageLogo]);const onClose=async()=>{setCompanyLogoPreview(imageLogo);handleClose();};function handleChange(e){const file=e.target.files[0];if(file){setSelectedFile(file);setCompanyLogoPreview(URL.createObjectURL(file));}}const handleUpdateImage=async()=>{try{if(selectedFile){const reader=new FileReader();reader.onload=async function(){const arrayBuffer=this.result;await updateCompanyLogo(arrayBuffer);};reader.readAsArrayBuffer(selectedFile);}else{console.error(\"No file selected\");}}catch(error){console.error(\"Error handling update image:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade \".concat(showModal?\"show\":\"\"),style:{display:showModal?\"block\":\"none\"},\"data-bs-theme\":\"dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-building fa-fw me-2\"}),\"Update Logo\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:onClose})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"profileImageInput\",className:\"profile-image-label\",children:[/*#__PURE__*/_jsx(\"img\",{src:companyLogoPreview||defaultCompanyLogo,alt:\"Profile\",className:\"img-fluid rounded-circle profile-image mb-3\",style:{width:\"200px\",height:\"200px\",border:\"2px solid #000\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlay\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-upload fa-fw me-2\"}),\"Upload\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"profileImageInput\",className:\"visually-hidden\",onChange:handleChange})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleUpdateImage,children:\"Submit\"})]})]})})});};export default Updatecompanylogo;","map":{"version":3,"names":["React","useState","useEffect","defaultCompanyLogo","jsx","_jsx","jsxs","_jsxs","Updatecompanylogo","_ref","showModal","handleClose","updateCompanyLogo","imageLogo","companyLogoPreview","setCompanyLogoPreview","selectedFile","setSelectedFile","onClose","handleChange","e","file","target","files","URL","createObjectURL","handleUpdateImage","reader","FileReader","onload","arrayBuffer","result","readAsArrayBuffer","console","error","className","concat","style","display","children","role","type","onClick","htmlFor","src","alt","width","height","border","id","onChange"],"sources":["C:/Users/Administrator/Desktop/react-express/client/src/company/Updatecompanylogo.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport defaultCompanyLogo from \"./defaultlogo.png\";\r\n\r\nconst Updatecompanylogo = ({\r\n  showModal,\r\n  handleClose,\r\n  updateCompanyLogo,\r\n  imageLogo,\r\n}) => {\r\n  const [companyLogoPreview, setCompanyLogoPreview] = useState();\r\n  const [selectedFile, setSelectedFile] = useState();\r\n\r\n  useEffect(() => {\r\n    setCompanyLogoPreview(imageLogo);\r\n  }, [imageLogo]);\r\n\r\n  const onClose = async () => {\r\n    setCompanyLogoPreview(imageLogo);\r\n    handleClose();\r\n  };\r\n\r\n  function handleChange(e) {\r\n    const file = e.target.files[0];\r\n\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      setCompanyLogoPreview(URL.createObjectURL(file));\r\n    }\r\n  }\r\n\r\n  const handleUpdateImage = async () => {\r\n    try {\r\n      if (selectedFile) {\r\n        const reader = new FileReader();\r\n        reader.onload = async function () {\r\n          const arrayBuffer = this.result;\r\n          await updateCompanyLogo(arrayBuffer);\r\n        };\r\n        reader.readAsArrayBuffer(selectedFile);\r\n      } else {\r\n        console.error(\"No file selected\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error handling update image:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`modal fade ${showModal ? \"show\" : \"\"}`}\r\n      style={{ display: showModal ? \"block\" : \"none\" }}\r\n      data-bs-theme=\"dark\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content text-white\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">\r\n              <i className=\"fa fa-building fa-fw me-2\"></i>Update Logo\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              onClick={onClose}\r\n            ></button>\r\n          </div>\r\n          <div className=\"modal-body text-center\">\r\n            <div className=\"position-relative\">\r\n              <label\r\n                htmlFor=\"profileImageInput\"\r\n                className=\"profile-image-label\"\r\n              >\r\n                <img\r\n                  src={companyLogoPreview || defaultCompanyLogo}\r\n                  alt=\"Profile\"\r\n                  className=\"img-fluid rounded-circle profile-image mb-3\"\r\n                  style={{\r\n                    width: \"200px\",\r\n                    height: \"200px\",\r\n                    border: \"2px solid #000\",\r\n                  }}\r\n                />\r\n\r\n                <div className=\"overlay\">\r\n                  <i className=\"fa fa-upload fa-fw me-2\"></i>Upload\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"profileImageInput\"\r\n                    className=\"visually-hidden\"\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              onClick={onClose}\r\n            >\r\n              Close\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={handleUpdateImage}\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Updatecompanylogo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}